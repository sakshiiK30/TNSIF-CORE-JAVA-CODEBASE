<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dice Game 🎯</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #e0c3fc, #8ec5fc);
      text-align: center;
      margin: 0;
      padding: 10px;
    }

    h1 {
      color: #2d3436;
      font-size: 24px;
      margin-bottom: 10px;
    }

    #players input, #targetScore {
      padding: 8px;
      margin: 6px;
      border-radius: 8px;
      border: none;
      font-size: 15px;
      width: 180px;
    }

    button {
      padding: 10px 24px;
      margin: 16px 8px;
      font-size: 15px;
      border: none;
      border-radius: 10px;
      background: linear-gradient(to right, #ff512f, #dd2476);
      color: white;
      cursor: pointer;
      transition: 0.2s;
    }

    button:hover {
      transform: scale(1.05);
    }

    .dice-section {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 14px;
      max-width: 700px;
      margin: 10px auto;
    }

    .player-box {
      background: linear-gradient(135deg, #fef6e4, #fce4ec);
      padding: 12px;
      border-radius: 16px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      width: 44%;
      min-width: 150px;
      box-sizing: border-box;
      transition: 0.2s;
    }

    .player-box h3 {
      font-size: 16px;
      margin: 6px 0;
    }

    .player-box img {
      width: 55px;
      margin-bottom: 6px;
    }

    .player-box div {
      font-size: 14px;
      margin: 4px 0;
    }

    .winner {
      background: #fff3cd;
      border: 2px dashed #ffc107;
      color: #856404;
      padding: 10px 16px;
      border-radius: 10px;
      display: inline-block;
      margin-top: 10px;
      font-size: 17px;
    }

    @media screen and (max-width: 500px) {
      .player-box {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <h1>🎲 Dice Game</h1>

  <div id="players">
    <input type="text" id="player1" placeholder="Player 1 Name" />
    <input type="text" id="player2" placeholder="Player 2 Name" /><br/>
    <input type="text" id="player3" placeholder="Player 3 Name" />
    <input type="text" id="player4" placeholder="Player 4 Name" /><br/>
    <input type="number" id="targetScore" placeholder="🎯 Target Score" /><br/>
    <button onclick="startGame()">Start Game</button>
  </div>

  <div id="game" style="display: none;">
    <div class="dice-section" id="diceSection"></div>
    <button id="rollBtn" onclick="rollDice()">🎲 Roll Dice</button>
    <button onclick="resetGame()">🔄 Reset</button>
    <div id="roundDisplay"></div>
    <div id="winnerAnnouncement"></div>
  </div>

  <audio id="diceSound" src="https://www.fesliyanstudios.com/play-mp3/387" preload="auto"></audio>

  <script>
    const diceImages = [
      'https://upload.wikimedia.org/wikipedia/commons/1/1b/Dice-1-b.svg',
      'https://upload.wikimedia.org/wikipedia/commons/5/5f/Dice-2-b.svg',
      'https://upload.wikimedia.org/wikipedia/commons/b/b1/Dice-3-b.svg',
      'https://upload.wikimedia.org/wikipedia/commons/f/fd/Dice-4-b.svg',
      'https://upload.wikimedia.org/wikipedia/commons/0/08/Dice-5-b.svg',
      'https://upload.wikimedia.org/wikipedia/commons/2/26/Dice-6-b.svg'
    ];

    const players = [];
    const scores = [0, 0, 0, 0];
    let round = 1, target = 0;

    function startGame() {
      const p1 = document.getElementById('player1').value.trim();
      const p2 = document.getElementById('player2').value.trim();
      const p3 = document.getElementById('player3').value.trim();
      const p4 = document.getElementById('player4').value.trim();
      target = parseInt(document.getElementById('targetScore').value);
      if (!p1 || !p2 || !p3 || !p4 || isNaN(target) || target <= 0) {
        alert('Enter all names and valid target!');
        return;
      }
      players.push(p1, p2, p3, p4);
      document.getElementById('players').style.display = 'none';
      document.getElementById('game').style.display = 'block';
      renderPlayers();
      updateRound();
    }

    function renderPlayers() {
      const container = document.getElementById('diceSection');
      container.innerHTML = '';
      players.forEach((player, index) => {
        const div = document.createElement('div');
        div.className = 'player-box';
        div.innerHTML = `
          <h3 id="name${index}">${player}</h3>
          <img id="dice${index}" src="${diceImages[0]}" />
          <div id="result${index}">Result: -</div>
          <div id="score${index}">Score: 0</div>
        `;
        container.appendChild(div);
      });
    }

    function updateRound() {
      document.getElementById('roundDisplay').innerText = `🔁 Round: ${round}`;
    }

    function rollDice() {
      const diceSound = document.getElementById('diceSound');
      diceSound.play();
      document.getElementById('winnerAnnouncement').innerHTML = '';
      const rolls = [];

      players.forEach((player, i) => {
        const roll = Math.floor(Math.random() * 6) + 1;
        scores[i] += roll;
        rolls.push(roll);
        document.getElementById(`dice${i}`).src = diceImages[roll - 1];
        document.getElementById(`result${i}`).innerText = `${player} rolled: ${roll}`;
        document.getElementById(`score${i}`).innerText = `Score: ${scores[i]}`;
        document.getElementById(`name${i}`).innerText = player;
      });

      const highest = Math.max(...rolls);
      const roundWinners = players.filter((_, i) => rolls[i] === highest);
      roundWinners.forEach((winner) => {
        const index = players.indexOf(winner);
        document.getElementById(`name${index}`).innerText = `👑 ${winner}`;
      });

      const gameWinners = players.filter((_, i) => scores[i] >= target);
      if (gameWinners.length > 0) {
        document.getElementById('winnerAnnouncement').innerHTML =
          `<div class="winner">🎯 Game Over! Winner: ${gameWinners.join(', ')}</div>`;
        document.getElementById('rollBtn').disabled = true;
      }

      round++;
      updateRound();
    }

    function resetGame() {
      location.reload();
    }
  </script>
</body>
</html>
